{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/middleware.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport type { NextRequest } from 'next/server';\n\n// This function can be marked `async` if using `await` inside\nexport function middleware(request: NextRequest) {\n  const { pathname } = request.nextUrl;\n  const token = request.cookies.get('auth-token')?.value;\n  \n  // Define public routes that don't require authentication\n  const publicRoutes = [\n    '/auth/login',\n    '/auth/register',\n    '/auth/forgot-password',\n    '/auth/reset-password',\n  ];\n  \n  // Check if the path starts with any of the public routes\n  const isPublicRoute = publicRoutes.some(route => pathname.startsWith(route));\n  \n  // If user is not authenticated and trying to access a protected route\n  if (!token && pathname.startsWith('/dashboard')) {\n    return NextResponse.redirect(new URL('/auth/login', request.url));\n  }\n  \n  // If user is authenticated and trying to access auth routes\n  if (token && isPublicRoute) {\n    return NextResponse.redirect(new URL('/dashboard', request.url));\n  }\n  \n  // If user is not authenticated and trying to access root\n  if (!token && pathname === '/') {\n    return NextResponse.redirect(new URL('/auth/login', request.url));\n  }\n  \n  return NextResponse.next();\n}\n\n// See \"Matching Paths\" below to learn more\nexport const config = {\n  matcher: [\n    /*\n     * Match all request paths except for the ones starting with:\n     * - _next/static (static files)\n     * - _next/image (image optimization files)\n     * - favicon.ico (favicon file)\n     * - public (public files)\n     */\n    '/((?!_next/static|_next/image|favicon.ico|public).*)',\n  ],\n};"],"names":[],"mappings":";;;;AAAA;AAAA;;AAIO,SAAS,WAAW,OAAoB;IAC7C,MAAM,EAAE,QAAQ,EAAE,GAAG,QAAQ,OAAO;IACpC,MAAM,QAAQ,QAAQ,OAAO,CAAC,GAAG,CAAC,eAAe;IAEjD,yDAAyD;IACzD,MAAM,eAAe;QACnB;QACA;QACA;QACA;KACD;IAED,yDAAyD;IACzD,MAAM,gBAAgB,aAAa,IAAI,CAAC,CAAA,QAAS,SAAS,UAAU,CAAC;IAErE,sEAAsE;IACtE,IAAI,CAAC,SAAS,SAAS,UAAU,CAAC,eAAe;QAC/C,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,eAAe,QAAQ,GAAG;IACjE;IAEA,4DAA4D;IAC5D,IAAI,SAAS,eAAe;QAC1B,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,cAAc,QAAQ,GAAG;IAChE;IAEA,yDAAyD;IACzD,IAAI,CAAC,SAAS,aAAa,KAAK;QAC9B,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,eAAe,QAAQ,GAAG;IACjE;IAEA,OAAO,6LAAA,CAAA,eAAY,CAAC,IAAI;AAC1B;AAGO,MAAM,SAAS;IACpB,SAAS;QACP;;;;;;KAMC,GACD;KACD;AACH"}}]
}